<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checklists</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="container">

    <header>
    <h1>‚úÖ Checklists</h1>
    <nav class="main-nav">
        <a href="{{ url_for('index') }}">üß† Home</a>
        <a href="{{ url_for('test_cases') }}">üìã Test Cases</a>
        <a href="{{ url_for('bug_reports') }}">üêû Bug Reports</a>
        <a href="{{ url_for('checklists') }}">‚úÖ Checklists</a>
        <a href="{{ url_for('test_plan') }}">üß™ Test Plan</a>
    </nav>
    </header>

<main>
  <section>
    <h2>‚úÖ Checklists</h2>

    <div class="checklist">
      <div class="checklist-header">
        <h3>üß© Smoke Checklist</h3>
        <p id="progress">0/5 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (0%)</p>
      </div>
      <ul>
        <li><input type="checkbox" id="chk1"> –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫</li>
        <li><input type="checkbox" id="chk2"> –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è</li>
        <li><input type="checkbox" id="chk3"> –°—Ç—Ä–∞–Ω–∏—Ü–∞ Bug Reports –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç GitHub issues</li>
        <li><input type="checkbox" id="chk4"> –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
        <li><input type="checkbox" id="chk5"> –°–∞–π—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</li>
      </ul>
    </div>
  </section>
</main>

<script>
function saveChecklist() {
  const checkboxes = document.querySelectorAll('.checklist input[type="checkbox"]');
  const states = {};
  checkboxes.forEach(cb => states[cb.id] = cb.checked);
  document.cookie = "checklist=" + JSON.stringify(states) + "; path=/; max-age=31536000";
  updateProgress();
}

function loadChecklist() {
  const cookies = document.cookie.split("; ").find(row => row.startsWith("checklist="));
  if (!cookies) return;
  const states = JSON.parse(cookies.split("=")[1]);
  for (const id in states) {
    const cb = document.getElementById(id);
    if (cb) cb.checked = states[id];
  }
}

function updateProgress() {
  const checkboxes = document.querySelectorAll('.checklist input[type="checkbox"]');
  const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
  const total = checkboxes.length;
  const percent = Math.round((checked / total) * 100);
  document.getElementById("progress").textContent = `${checked}/${total} –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (${percent}%)`;
}

document.addEventListener("DOMContentLoaded", () => {
  loadChecklist();
  updateProgress();
  document.querySelectorAll('.checklist input[type="checkbox"]').forEach(cb => {
    cb.addEventListener('change', saveChecklist);
  });
});
</script>

{% include 'footer.html' %}

</body>
</html>