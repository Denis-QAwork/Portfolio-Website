<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checklists</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
  <div class="container">

{% include 'header.html' %}

<main>
  <section>
    <h2>‚úÖ –°–º–æ—É–∫-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

    <div class="checklist">
      <div class="checklist-header">
        <h3>üß© –û—Å–Ω–æ–≤–Ω–æ–π Smoke Checklist</h3>
        <p id="progress">0/10 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (0%)</p>
      </div>

      <ul>
        <li><input type="checkbox" id="chk1">–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫</li>
        <li><input type="checkbox" id="chk2">–ù–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—â–∏–π —Ö–µ–¥–µ—Ä –∏ –ø–æ–¥–≤–∞–ª</li>
        <li><input type="checkbox" id="chk3">–í–µ—Å—å —Ç–µ–∫—Å—Ç –Ω–∞ —Å–∞–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è –∏ –Ω–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –±–ª–æ–∫–æ–≤</li>
        <li><input type="checkbox" id="chk4">–°–∞–π—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –∑–∞–º–µ—Ç–Ω—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫ (‚â§ 2 —Å–µ–∫)</li>
        <li><input type="checkbox" id="chk5">–°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–ë–∞–≥ —Ä–µ–ø–æ—Ä—Ç—ã¬ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç GitHub issues</li>
        <li><input type="checkbox" id="chk6">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏</li>
        <li><input type="checkbox" id="chk7">CSRF-—Ç–æ–∫–µ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
        <li><input type="checkbox" id="chk8">–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã (–ª–∏–º–∏—Ç—ã –ø–æ –¥–ª–∏–Ω–µ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è XSS) —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
        <li><input type="checkbox" id="chk9">–°–∞–π—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –∏ –∞–¥–∞–ø—Ç–∏–≤–µ–Ω</li>
        <li><input type="checkbox" id="chk10">–í—Å–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</li>
      </ul>
    </div>
  </section>
</main>

<script>
function saveChecklist() {
  const checkboxes = document.querySelectorAll('.checklist input[type="checkbox"]');
  const states = {};
  checkboxes.forEach(cb => states[cb.id] = cb.checked);
  document.cookie = "checklist=" + JSON.stringify(states) + "; path=/; max-age=31536000";
  updateProgress();
}

function loadChecklist() {
  const cookies = document.cookie.split("; ").find(row => row.startsWith("checklist="));
  if (!cookies) return;
  const states = JSON.parse(cookies.split("=")[1]);
  for (const id in states) {
    const cb = document.getElementById(id);
    if (cb) cb.checked = states[id];
  }
}

function updateProgress() {
  const checkboxes = document.querySelectorAll('.checklist input[type="checkbox"]');
  const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
  const total = checkboxes.length;
  const percent = Math.round((checked / total) * 100);
  document.getElementById("progress").textContent = `${checked}/${total} –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (${percent}%)`;
}

document.addEventListener("DOMContentLoaded", () => {
  loadChecklist();
  updateProgress();
  document.querySelectorAll('.checklist input[type="checkbox"]').forEach(cb => {
    cb.addEventListener('change', saveChecklist);
  });
});
</script>

{% include 'footer.html' %}

</body>
</html>